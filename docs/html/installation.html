

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installation &mdash; MARVELsim 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/fonts.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MARVELsim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#downlod-from-source">1. Downlod from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-conda-environment">2. Create Conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#local-poetry-installation">3. Local (Poetry) installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cluster-poetry-installation">3. Cluster (Poetry) installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extra-tools">Extra tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="extra.html">Extra examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MARVELsim</a>
        
      </nav>


      <div class="wy-nav-content">
<div class="git-ribbon">
  <a href="http://github.com/SwissDataScienceCenter" rel="me">Join us on GitHub</a>
</div>

        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial we cover how to setup an Python environment that allows you quickly get started to run simulations of MARVEL spectra.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We recommend to follow the installation instructions below and using <a class="reference external" href="https://python-poetry.org/">Poetry</a> to install MARVELsim. While using Python 3.8 and Poetry you will get a direct freeze of the software which successfully will build across any platform.</p>
</div>
<section id="downlod-from-source">
<h2>1. Downlod from source<a class="headerlink" href="#downlod-from-source" title="Permalink to this headline">¶</a></h2>
<p>Move to a desired directory for which you want to download the software and simply:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/nicholasjannsen/MARVELsim.git
</pre></div>
</div>
</section>
<section id="create-conda-environment">
<h2>2. Create Conda environment<a class="headerlink" href="#create-conda-environment" title="Permalink to this headline">¶</a></h2>
<p>We strongly recommend to install Poetry through a <a class="reference external" href="https://docs.conda.io/en/latest/">Conda</a> environment. This is especially handy when installing on a computing cluster since these typically only have limited versions of Python installed by default. While using Conda all Python versions can be installed and thus an exact freeze of the poetry installation can be made. Thus first install Conda (or <em>Miniconda</em>) and the create a new environment called <code class="docutils literal notranslate"><span class="pre">marvelsim</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda create -n marvelsim <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.8
</pre></div>
</div>
<p>Now activate your new conda environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda activate marvelsim
</pre></div>
</div>
</section>
<section id="local-poetry-installation">
<h2>3. Local (Poetry) installation<a class="headerlink" href="#local-poetry-installation" title="Permalink to this headline">¶</a></h2>
<p>Since the most commen use case for MARVELsim is to run with HPC, it is recommended to use <a class="reference external" href="https://python-poetry.org/">Poetry</a> to manage and install Python libraries. First <a class="reference external" href="https://python-poetry.org/docs/master/">install Poetry</a> from the <strong>master</strong> branch</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install --user poetry
</pre></div>
</div>
<p>Verify that poetry was installed successfully by typing <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">--version</span></code>. Next include the following path to your <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">POETRY</span><span class="o">=</span><span class="nv">$HOME</span>/.poetry/bin
<span class="nb">export</span> POETRY
</pre></div>
</div>
<p>Deactivate your conda environment (or any other active Python environment) and install with your new poetry environment:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda deactivate
poetry install
</pre></div>
</div>
</section>
<section id="cluster-poetry-installation">
<h2>3. Cluster (Poetry) installation<a class="headerlink" href="#cluster-poetry-installation" title="Permalink to this headline">¶</a></h2>
<p>Here we show how to install Poetry on the VSC, however, the general workflow can most likely be followed for installing MARVELsim on any cluster. On a computing cluster you typically want to avoid installing software directly to your <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> workspace since this has a very limited amount of available storage memory. Thus, for clusters we recommend to install software in your <code class="docutils literal notranslate"><span class="pre">$DATA</span></code> directory. Hence, we need to tell where to install Poetry:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda activate marvelsim
pip install --user poetry <span class="p">|</span> <span class="nv">POETRY_HOME</span><span class="o">=</span><span class="nv">$VSC_DATA</span>/poetry python -
</pre></div>
</div>
<p>Verify that poetry was installed successfully by typing <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">--version</span></code> and verify that installation location with <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">poetry</span></code>. Next change the installation location of the virtuel poetry eironment to:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry config virtualenvs.path <span class="nv">$VSC_DATA</span>/poetry/virtualenvs
</pre></div>
</div>
<p>In order for Poetry to be available from any compute node, you need to include the following path to your <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">POETRY</span><span class="o">=</span><span class="nv">$VSC_DATA</span>/poetry/bin
<span class="nb">export</span> POETRY
</pre></div>
</div>
<p>Finally deactiavte your Conda environment and install MARVELsim from the base directory using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda deactivate
poetry install
</pre></div>
</div>
</section>
<section id="extra-tools">
<h2>Extra tools<a class="headerlink" href="#extra-tools" title="Permalink to this headline">¶</a></h2>
<p>Before starting investigating your output fits files we recomment to install <a class="reference external" href="https://www.eso.org/sci/software/eclipse/eug/eug/node8.html">dfits</a> which is an nice tool to inspect fits headers (e.g. <code class="docutils literal notranslate"><span class="pre">dfits</span> <span class="pre">&lt;filename&gt;.fits</span></code>). On Linux install this packge with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt-get install qfits-tools
</pre></div>
</div>
<p>In addition, the astronomy software <a class="reference external" href="https://sites.google.com/cfa.harvard.edu/saoimageds9">ds9</a> is an indispensable tool to quickly view your fits images (e.g. <code class="docutils literal notranslate"><span class="pre">ds9</span> <span class="pre">&lt;filename&gt;.fits</span></code>). Install this software with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt install saods9
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, KU Leuven.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>